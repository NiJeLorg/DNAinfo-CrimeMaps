{% extends 'crimemaps/baseNoBottomNav.html' %}
{% load staticfiles %}

{% block css_block %}
    <link rel="stylesheet" type="text/css" href="{% static 'crimemaps/css/leaflet.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'crimemaps/css/leaflet.draw.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'crimemaps/css/leaflet.label.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
{% endblock %}

{% block head_js_block %}
<meta property="fb:app_id" content="406014149589534" /> 
<meta property="og:type"   content="website" /> 
<meta property="og:url"    content="https://visualizations.dnainfo.com/nycneighshow/{{ id }}/" /> 
<meta property="og:title"  content="DNAinfo Draw Your NYC Neighborhood Maps" /> 
<meta property="og:image"  content="{% static 'crimemaps/css/images/DNA_DYOM_NYC.png' %}" /><script type="text/javascript">
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '406014149589534',
      xfbml      : true,
      version    : 'v2.4'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
{% endblock %}
	
{% block body_block %}
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <div class="navbar-brand">DNAinfo New York | Drawing <span class="neighborhoodName"></span></div>
        </div>
      </div> 
    </nav>


        <!-- Map Content -->
        <div id="map" class="map"></div>
        <button id="imFinished" class="btn btn-success hidden" type="submit">I'm Finished</button>
        <button id="startOver" class="btn btn-warning hidden" type="submit">Start Over</button>

{% endblock %}

{% block modal_block %}
<!-- intro how to modal -->
<div class="modal fade" id="introduction" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body modalContent">
        <h3 class="text-center text-uppercase">LET’S SETTLE IT: <span class="neighborhoodName"></span>'S BORDERS</h3>
        <p>
          Begin drawing <span class="neighborhoodName"></span> by clicking on the pen icon at left. Tap the pen tool all along the outlines of the neighborhood until the entire area you've chosen is shaded in red.
        </p>
        <p>
          When you're done, click <strong>I'm Finished</strong> if you like the result, or <strong>Start Over</strong> if you need to try again.        
        </p>
        <p>
          {% if neighborhoodDrawObject.neighborhoodLive.dnaurl != 'other' %} 
          When you submit your drawing, we'll show you the city's official version of the neighborhood alongside yours.
          {% endif %} 
          We'll share the consensus about the neighborhood lines in the weeks to come, so spread the word when you’re done!
        </p>

        <div class="clearfix"></div>
        <button id="closeIntroModal" class="btn btn-danger btn-lg center-block" type="submit">Go For It!</button>
      </div>
    </div>
  </div>
</div>

<!-- intro how to modal -->
<div class="modal fade" id="introductionTouch" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body modalContent">
        <h3 class="text-center text-uppercase">LET’S SETTLE IT: <span class="neighborhoodName"></span>'S BORDERS</h3>
        <p>
          Begin drawing <span class="neighborhoodName"></span> by clicking on the pen icon at left. Tap the pen tool all along the outlines of the neighborhood until the entire area you've chosen is shaded in red.
        </p>
        <p>
          When you're done, click <strong>I'm Finished</strong> if you like the result, or <strong>Start Over</strong> if you need to try again.             
        </p>
        <p>
          {% if neighborhoodDrawObject.neighborhoodLive.dnaurl != 'other' %} 
          When you submit your drawing, we'll show you the city's official version of the neighborhood alongside yours. 
          {% endif %} 
          We'll share the consensus about the neighborhood lines in the weeks to come, so spread the word when you're done!
        </p>
        <div class="clearfix"></div>
        <button id="closeIntroModalTouch" class="btn btn-danger btn-lg center-block" type="submit">Go For It!</button>
      </div>
    </div>
  </div>
</div>

<!-- share modal -->
<div class="modal fade" id="share" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body modalContent">
        <h3 class="text-center text-uppercase">Share Your Version of <span class="neighborhoodName"></span></h3>
        <p class="text-center">
          <a id="facebookButtonModal" class="btn btn-primary btn-lg facebookButtonModal" href="#" role="button" target="_blank">Share on <i class="fa fa-facebook-official fa-lg"></i></a>
          <a id="twitterButtonModal" class="btn btn-info btn-lg" href="#" role="button" target="_blank">Share on <i class="fa fa-twitter fa-lg"></i></a>
        </p>
        {% if neighborhoodDrawObject.neighborhoodLive.dnaurl != 'other' %} 
        <p>These are the closest outlines the city has to your neighborhood's boundaries. Don’t like what you see? It's probably because the city doesn't officially recognize your neighborhood as an independent area!</p>
        <p>Credit: NYC Department of City Planning</p>
        {% endif %} 
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block js_block %}
  <script type="text/javascript" src="{% static 'crimemaps/js/jquery.cookie.js' %}"></script>
	<script type="text/javascript">
    var id = "{{ id }}"
    var NYC_Neighborhoods = "{% static 'crimemaps/data/nyc_acs_2013_neighareas_commute.topojson' %}";
    var neighborhoodLive = "{{ neighborhoodDrawObject.neighborhoodLive.dnaurl }}";
    var otherNeighborhood = "{{ neighborhoodDrawObject.otherNeighborhood }}";
	</script>
  <script type="text/javascript" src="{% static 'crimemaps/js/d3.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'crimemaps/js/leaflet.js' %}"></script>
  <script type="text/javascript" src="{% static 'crimemaps/js/topojson.js' %}"></script>
  <script type="text/javascript" src="{% static 'crimemaps/js/leaflet.draw.js' %}"></script>
  <script type="text/javascript" src="{% static 'crimemaps/js/leaflet.label-src.js' %}"></script>
	<script type="text/javascript" src="{% static 'crimemaps/js/DNAinfoNYCNeighDraw.js' %}"></script>
	<script type="text/javascript" src="{% static 'crimemaps/js/nycneighdrawapp.js' %}"></script>
  <script type="text/javascript" src="{% static 'crimemaps/js/nycdrawMapControllers.js' %}"></script>
{% endblock %}


	
	

